<?php

/**
 * @Autor	: Diego Lepera
 * @E-mail	: d_lepera@hotmail.com
 * @Projeto	: FrameworkDL
 * @Data	: 07/01/2015 18:34:49
 */

if( !isset($params) )
    $params = $this->_obterparams();

$mod = $params['modelo'];

?>

<section class="dl3">
    <h1><?= $params['titulo']; ?></h1>

    <?php include_once 'aplicativos/'. DL3_APLICATIVO .'/comum/visoes/titulo_h2.phtml'; ?>

    <?php if( $params['msg-usuario-bloq?'] ): ?>
    <p class="msg-atencao">
        <?= MSG_USUARIO_BLOQUEADO; ?>
    </p>
    <?php endif; ?>

    <form id="form-<?= $params['form-id']; ?>" method="post" action="<?= $params['form-action']; ?>">
        <?php if( !$params['incluindo'] ): ?>
        <input type="hidden" name="id" value="<?= $mod->id; ?>"/>
        <?php endif; ?>

        <fieldset>
            <legend><?= TXT_LEGENDA_DADOS_PESSOAIS; ?></legend>

            <p class="form-p-campo">
                <label for="info-nome"><?= TXT_LABEL_NOME; ?>:</label><br/>
                <input type="text" name="info_nome" id="info-nome" value="<?= $mod->info_nome; ?>" required/>
            </p>

            <p class="form-p-campo">
                <label for="info-email"><?= TXT_LABEL_EMAIL; ?>:</label><br/>
                <input type="email" name="info_email" id="info-email" value="<?= $mod->info_email; ?>" required/>
            </p>

            <p class="form-p-campo">
                <label for="info-telefone"><?= TXT_LABEL_TELEFONE; ?>:</label><br/>
                <input type="tel" name="info_telefone" id="info-telefone" value="<?= $mod->info_telefone; ?>"/>
            </p>

            <p class="form-p-campo">
                <label><?= TXT_LABEL_SEXO; ?>:</label><br/>
                <input type="radio" name="info_sexo" id="info-sexo-m" value="M"<?= $mod->info_sexo == 'M' ? ' CHECKED' : ''; ?>/>
                <label for="info-sexo-m"><?= TXT_OPCAO_MASCULINO; ?></label>

                <input type="radio" name="info_sexo" id="info-sexo-f" value="F"<?= $mod->info_sexo == 'F' ? ' CHECKED' : ''; ?>/>
                <label for="info-sexo-f"><?= TXT_OPCAO_FEMININO; ?></label>
            </p>
        </fieldset>

        <fieldset>
            <legend><?= TXT_LEGENDA_PREFERENCIAS; ?></legend>

            <p class="form-p-campo">
                <label for="pref-idioma"><?= TXT_LABEL_IDIOMA; ?>:</label><br/>
                <select name="pref_idioma" id="pref-idioma" required>
                    <option value=""><?= TXT_OPCAO_SELECIONE_UMA_OPCAO; ?></option>

                    <?php foreach( $params['idiomas'] as $o ): ?>
                    <option value="<?= $o['VALOR']; ?>"<?= $mod->pref_idioma == $o['VALOR'] ? ' SELECTED' : ''; ?>>
                        <?= $o['TEXTO']; ?>
                    </option>
                    <?php endforeach; ?>
                </select>

                <?php if( $params['novo-idioma?'] ): ?>
                <a href="javascript:;" onclick="CarregarForm('desenvolvedor/idiomas/novo', null, function(){ CarregarSelect($('#pref-idioma'), 'desenvolvedor/idiomas/carregar-select'); });" class="com-icone a-inserir a-select">
                    <?= TXT_LINK_NOVO_IDIOMA; ?>
                </a>
                <?php endif; ?>
            </p>

            <p class="form-p-campo">
                <label for="pref-tema"><?= TXT_LABEL_TEMA; ?>:</label><br/>
                <select name="pref_tema" id="pref-tema" required>
                    <option value=""><?= TXT_OPCAO_SELECIONE_UMA_OPCAO; ?></option>

                    <?php foreach( $params['temas'] as $o ): ?>
                    <option value="<?= $o['VALOR']; ?>"<?= $mod->pref_tema == $o['VALOR'] ? ' SELECTED' : ''; ?>>
                        <?= $o['TEXTO']; ?>
                    </option>
                    <?php endforeach; ?>
                </select>

                <?php if( $params['novo-tema?'] ): ?>
                <a href="javascript:;" onclick="CarregarForm('desenvolvedor/temas/novo', null, function(){ CarregarSelect($('#pref-tema'), 'desenvolvedor/temas/carregar-select'); });" class="com-icone a-inserir a-select">
                    <?= TXT_LINK_NOVO_TEMA; ?>
                </a>
                <?php endif; ?>
            </p>

            <p class="form-p-campo">
                <label for="pref-formato-data"><?= TXT_LABEL_FORMATO_DATA; ?>:</label><br/>
                <select name="pref_formato_data" id="pref-formato-data" required>
                    <option value=""><?= TXT_OPCAO_SELECIONE_UMA_OPCAO; ?></option>

                    <?php foreach( $params['formatos-data'] as $o ): ?>
                    <option value="<?= $o['VALOR']; ?>"<?= $mod->pref_formato_data == $o['VALOR'] ? ' SELECTED' : ''; ?>>
                        <?= $o['TEXTO']; ?>
                    </option>
                    <?php endforeach; ?>
                </select>
            </p>

            <p class="form-p-campo">
                <label for="pref-num-registros"><?= TXT_LABEL_NUM_REGISTROS; ?>:</label><br/>
                <span class="form-dica"><?= MSG_DICA_USUARIO_NUM_REGISTROS; ?></span><br/>
                <input type="number" name="pref_num_registros" id="pref-num-registros" value="<?= $mod->pref_num_registros; ?>" min="5"/>
            </p>
        </fieldset>

        <fieldset>
            <legend><?= TXT_LEGENDA_ACESSO_SISTEMA; ?></legend>

            <?php if( $params['incluindo'] || !$params['usuario-logado?'] ): ?>
            <p class="form-p-campo">
                <label for="info-grupo"><?= TXT_LABEL_GRUPO; ?>:</label><br/>
                <select name="info_grupo" id="info-grupo" required>
                    <option value=""><?= TXT_OPCAO_SELECIONE_UMA_OPCAO; ?></option>

                    <?php foreach( $params['grupos-usuarios'] as $o ): ?>
                    <option value="<?= $o['VALOR']; ?>"<?= $mod->info_grupo == $o['VALOR'] ? ' SELECTED' : ''; ?>>
                        <?= $o['TEXTO']; ?>
                    </option>
                    <?php endforeach; ?>
                </select>

                <?php if( $params['novo-grupo?'] ): ?>
                <a href="javascript:;" onclick="CarregarForm('admin/grupos-de-usuarios/novo', null, function(){ CarregarSelect($('#info-grupo'), 'admin/grupos-de-usuarios/carregar-select'); });" class="com-icone a-inserir a-select">
                    <?= TXT_LINK_NOVO_GRUPO_USUARIO; ?>
                </a>
                <?php endif; ?>
            </p>
            <?php elseif( $params['usuario-logado?'] ): ?>
            <p class="form-p-campo">
                <?= TXT_LABEL_GRUPO, ':<br/>', $params['grupo-descr']; ?>
            </p>
            <?php endif; ?>

            <?php if( $params['incluindo'] ): ?>
            <p class="form-p-campo">
                <label for="info-login"><?= TXT_LABEL_LOGIN; ?>:</label><br/>
                <input type="text" name="info_login" id="info-login" required/>
            </p>

            <p class="form-p-campo">
                <label for="info-senha"><?= TXT_LABEL_SENHA; ?>:</label><br/>
                <input type="password" name="info_senha" id="info-senha" required/>
            </p>

            <p class="form-p-campo">
                <label for="conf-senha"><?= TXT_LABEL_CONF_SENHA; ?>:</label><br/>
                <input type="password" name="conf_senha" id="conf-senha" required/>
            </p>
            <?php else: ?>
            <p class="form-p-campo">
                <label for="info-login"><?= TXT_LABEL_LOGIN; ?>:</label><br/>
                <input type="text" name="info_login" id="info-login" value="<?= $mod->info_login; ?>" readonly required/>
            </p>
            <?php endif; ?>

            <?php if( !$params['usuario-logado?'] ): ?>
            <p class="form-p-campo">
                <input type="checkbox" name="conf_reset" id="conf-reset" value="1"<?= $mod->conf_reset == 1  ? ' CHECKED' : ''; ?>/>
                <label for="conf-reset"><?= TXT_LABEL_RESET; ?></label><br/>
                <sapn class="form-dica"><?= MSG_DICA_USUARIO_RESET; ?></span>
            </p>

            <p class="form-p-campo">
                <input type="checkbox" name="conf_bloq" id="conf-bloq" value="1"<?= $mod->conf_bloq == 1  ? ' CHECKED' : ''; ?>/>
                <label for="conf-bloq"><?= TXT_LABEL_BLOQ; ?></label><br/>
                <sapn class="form-dica"><?= MSG_DICA_USUARIO_BLOQ; ?></span>
            </p>
            <?php endif; ?>
        </fieldset>

        <p class="form-botoes">
            <button type="submit" class="btn-salvar"><?= TXT_BOTAO_SALVAR; ?></button>
            <button type="reset" class="btn-cancelar"><?= TXT_BOTAO_CANCELAR; ?></button>
        </p>
    </form>
</section>

<script>
    //<![CDATA[
    function CarregarGU(){

    } // Fim function CarregarGU()
    //]]>
</script>
